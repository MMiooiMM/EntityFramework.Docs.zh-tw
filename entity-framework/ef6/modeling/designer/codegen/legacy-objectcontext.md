---
title: 還原成在 Entity Framework Designer EF6 的 ObjectContext
author: divega
ms.date: 10/23/2016
ms.assetid: 36550569-a1de-47cb-ba6d-544794ffd500
ms.openlocfilehash: 3e436f0d9cf94720be9c424b327816438d571ae8
ms.sourcegitcommit: 2b787009fd5be5627f1189ee396e708cd130e07b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/13/2018
ms.locfileid: "45488935"
---
# <a name="reverting-to-objectcontext-in-entity-framework-designer"></a><span data-ttu-id="6700b-102">還原成 Entity Framework 設計工具中的 ObjectContext</span><span class="sxs-lookup"><span data-stu-id="6700b-102">Reverting to ObjectContext in Entity Framework Designer</span></span>
<span data-ttu-id="6700b-103">與上一個版本的 Entity Framework 的模型，建立與 EF 設計工具會產生衍生自 ObjectContext 的內容和實體類別，衍生自 EntityObject。</span><span class="sxs-lookup"><span data-stu-id="6700b-103">With previous version of Entity Framework a model created with the EF Designer would generate a context that derived from ObjectContext and entity classes that derived from EntityObject.</span></span>

<span data-ttu-id="6700b-104">從 EF4.1 建議交換來產生衍生自 DbContext 及 POCO 實體類別的內容的程式碼產生範本。</span><span class="sxs-lookup"><span data-stu-id="6700b-104">Starting with EF4.1 we recommended swapping to a code generation template that generates a context deriving from DbContext and POCO entity classes.</span></span>

<span data-ttu-id="6700b-105">Visual Studio 2012 中，您會取得所有新的模型使用 EF 設計工具建立的預設值所產生的 DbContext 程式碼。</span><span class="sxs-lookup"><span data-stu-id="6700b-105">In Visual Studio 2012 you get DbContext code generated by default for all new models created with the EF Designer.</span></span> <span data-ttu-id="6700b-106">現有的模型將會繼續產生 ObjectContext 基礎程式碼，除非您決定要切換至 DbContext 基礎程式碼產生器。</span><span class="sxs-lookup"><span data-stu-id="6700b-106">Existing models will continue to generate ObjectContext based code unless you decide to swap to the DbContext based code generator.</span></span>

## <a name="reverting-back-to-objectcontext-code-generation"></a><span data-ttu-id="6700b-107">正在回復到 ObjectContext 的程式碼產生</span><span class="sxs-lookup"><span data-stu-id="6700b-107">Reverting Back to ObjectContext Code Generation</span></span>

### <a name="1-disable-dbcontext-code-generation"></a><span data-ttu-id="6700b-108">1.停用 DbContext 的程式碼產生</span><span class="sxs-lookup"><span data-stu-id="6700b-108">1. Disable DbContext Code Generation</span></span>

<span data-ttu-id="6700b-109">產生的衍生 DbContext 及 POCO 類別由您的專案中的兩個.tt 檔案中，如果您展開 [方案總管] 中的.edmx 檔案，您會看到這些檔案。</span><span class="sxs-lookup"><span data-stu-id="6700b-109">Generation of the derived DbContext and POCO classes is handled by two .tt files in you project, if you expand the .edmx file in solution explorer you will see these files.</span></span> <span data-ttu-id="6700b-110">刪除兩個專案中。</span><span class="sxs-lookup"><span data-stu-id="6700b-110">Delete both of these files from your project.</span></span>

![程式碼的一般檔案](~/ef6/media/codegenfiles.png)

<span data-ttu-id="6700b-112">如果您使用 VB.NET 您必須選取**顯示所有檔案**按鈕，即可查看巢狀的檔案。</span><span class="sxs-lookup"><span data-stu-id="6700b-112">If you are using VB.NET you will need to select the **Show All Files** button to see the nested files.</span></span>

![顯示所有檔案](~/ef6/media/showallfiles.png)

### <a name="2-re-enable-objectcontext-code-generation"></a><span data-ttu-id="6700b-114">2.重新啟用 ObjectContext 的程式碼產生</span><span class="sxs-lookup"><span data-stu-id="6700b-114">2. Re-Enable ObjectContext Code Generation</span></span>

<span data-ttu-id="6700b-115">開啟您的模型在 EF 設計工具中，以滑鼠右鍵按一下設計介面，然後選取 [空白] 區段**屬性**。</span><span class="sxs-lookup"><span data-stu-id="6700b-115">Open you model in the EF Designer, right-click on a blank section of the design surface and select **Properties**.</span></span>

<span data-ttu-id="6700b-116">在 [屬性] 視窗變更**程式碼產生策略**從**無**來**預設**。</span><span class="sxs-lookup"><span data-stu-id="6700b-116">In the Properties window change the **Code Generation Strategy** from **None** to **Default**.</span></span>

![程式碼的一般策略](~/ef6/media/codegenstrategy.png)
